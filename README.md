## Предложение по работе с модалками

### Базовая модалка
`src/shared/modals/base-modal/index.tsx`

Простой компонент, который отрисовывает содержимое. 
Может настраиваться пропсами, но в идеале это парочка пропсов для внешнего вида – например её размерность.
Умеет отображать фоллбэк для лениво загружаемого содержимого.

### Модалка в приложении
`src/modals/(create|delete)-project/index|component.tsx`

#### component.tsx

Тело модалки со своей логикой. Должно экспортироваться как `default`, если используемый ленивую загрузку компонента.

#### index.tsx

В случае ленивой загрузки `component.tsx`, должен хранить в себе декларацию следующего вида:
```tsx
const Component = React.lazy(() => import('./component'))

const Modal = (props: CreateProjectModalProps) => (
    <BaseModal>
        <Component {...props} />
    </BaseModal>
)
```
Оборачивать вызов `<Component />` в `React.Suspense` нет необходимости, так как за это отвечает `BaseModal`.

Если не лениво загружаем, то:
```tsx
import Component from './component'

const Modal = (props: CreateProjectModalProps) => (
    <BaseModal>
        <Component {...props} />
    </BaseModal>
)
```

Так же должен экспортироваться объект со следующими полями:

`name` – Уникальное имя модалки

`Modal` - Компонент модалки

### Коллекция (название самому не нравится) модалок 
`src/shared/lib/modals/collection.ts`

Объект состоящия из записей следующего вида:

ключ – имя модалки

значение – ссылка на компонент

Это необходимо для отрисовки модалки по её имени.


### Моделька модалок
`src/shared/lib/modals/model.ts`

Моделька состоит из стора и эвентами, для управления ими.

В самом приложении для обычного открытия модалки мы вызываем `push`, 
со следующим аргументом:
```ts
{
    /**
     * Уникальное название, можно так же импортить объект из модаки и
     * испльзовать так: 
     * import { CreateProjectModal } from 'src/modals/create-project'
     * {
     *     name: CreateProjectModal.name,
     * }
     */
    name: 'CREATE_PROJECT_MODAL'
    /**
     * Пропсы для модалки
     */
    props: { category: 'food' }
}
```

Это и попадает в массив открытых модалок.

### Рендеринг модалок
`src/app/modals-root.tsx`

Пробегаемся по массиву открытых модалок, по названию достаём модалку
из коллекции и рендерим её с переданными пропсами.

## Итог

Поверх этого мы сможем реализовать любую функциональность, которая нам будет необходима – отслеживание
открытие или закрытие нужной нам модалки, логирование, открытие нескольких модалок и всё, что придёт
нам в голову и будет необходимым.

Я очень надеюсь на вашу обратную связь.